<!doctype html>
<html lang="id" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KKG Gugus III Kelompok Kerja Guru</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Custom CSS -->
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Outfit', sans-serif;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Poppins', sans-serif;
    }
    
    /* Gradient Styles */
    .gradient-hero {
      background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%);
    }
    
    .gradient-accent {
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    }

    .gradient-soft-blue {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    }

    .gradient-soft-yellow {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    }
    
    /* Card Hover Effects */
    .card-hover {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.12);
    }
    
    /* Navigation */
    .nav-link {
      position: relative;
      transition: color 0.3s ease;
    }
    
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 3px;
      background: linear-gradient(90deg, #fbbf24, #f59e0b);
      transition: width 0.3s ease;
      border-radius: 2px;
    }
    
    .nav-link:hover::after,
    .nav-link.active::after {
      width: 100%;
    }
    
    /* Photo Grid */
    .photo-grid-item {
      transition: all 0.4s ease;
      overflow: hidden;
    }
    
    .photo-grid-item:hover {
      transform: scale(1.05);
    }

    .photo-grid-item:hover .overlay {
      opacity: 1;
    }
    
    /* Animations */
    .stat-card {
      animation: fadeInUp 0.8s ease forwards;
      opacity: 0;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .stat-card:nth-child(1) { animation-delay: 0.1s; }
    .stat-card:nth-child(2) { animation-delay: 0.2s; }
    .stat-card:nth-child(3) { animation-delay: 0.3s; }
    .stat-card:nth-child(4) { animation-delay: 0.4s; }
    
    /* Page Transitions */
    .page {
      display: none;
    }
    
    .page.active {
      display: block;
      animation: pageTransition 0.5s ease;
    }

    @keyframes pageTransition {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Table Styles */
    .table-row {
      transition: background-color 0.2s ease;
    }

    .table-row:hover {
      background-color: #f8fafc;
    }

    /* Wave Pattern */
    .wave-pattern {
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 50 Q 25 30, 50 50 T 100 50' stroke='rgba(255,255,255,0.1)' fill='none' stroke-width='1'/%3E%3C/svg%3E");
    }

    .overlay {
      transition: opacity 0.3s ease;
      opacity: 0;
    }

    /* Button Styles */
    .btn-primary {
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
    }

    /* PERBAIKAN: Text Color untuk Hero Section dengan kontras tinggi */
    .hero-title {
      color: #ffffff !important;
      text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
      -webkit-text-stroke: 1px rgba(0, 0, 0, 0.2);
    }
    
    .hero-subtitle {
      color: #fef08a !important; /* Kuning terang */
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
      font-weight: 700;
    }
    
    .hero-description {
      color: #e0f2fe !important; /* Biru muda terang */
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }
    
    /* Memastikan background hero cukup gelap */
    .hero-container {
      position: relative;
      background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 50%, #3b82f6 100%) !important;
    }
    
    /* Badge styling */
    .hero-badge {
      background-color: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
  </style>
</head>
<body class="h-full bg-slate-50 text-slate-800 overflow-auto">
  <div id="app-wrapper" class="w-full h-full">
    <!-- Navigation will be loaded here -->
    <div id="header-container"></div>
    
    <!-- Main Content -->
    <main id="main-content">
      <!-- Page content will be loaded here -->
      <div id="page-content">
        <!-- Home page will be loaded by default -->
      </div>
    </main>
    
    <!-- Footer will be loaded here -->
    <div id="footer-container"></div>
  </div>

  <!-- JavaScript Files -->
<script>
    // ==================== KONEKSI BACKEND ====================
    // URL Google Apps Script Anda
    const GAS_URL = "https://script.google.com/macros/s/AKfycbwFuHlTZJm2Tqz8f3BiHOndSdTWOcMdMa_Ru2-gYNCYEEb_f-A4wkTjQ5kolYWTeUIA/exec";
    
    // PIN Keamanan (Password untuk Guru saat upload)
    const TEACHER_PIN = "GUGUS3JAYA"; 

    // ==================== KONFIGURASI UMUM ====================
    const defaultConfig = {
      hero_title: 'KKG Gugus III',
      hero_subtitle: 'Bersama Membangun Pendidikan Berkualitas',
      hero_description: 'Selamat datang di aplikasi resmi KKG Gugus III Kec Sumedang Utara.',
      contact_email: 'kkg.gugus3@email.com',
      contact_phone: '+62 812-3456-7890',
      contact_address: 'Sekretariat KKG Gugus III<br>Jl. Pendidikan No. 123<br>Kecamatan Cendekia, Indonesia'
    };

    // ==================== SISTEM NAVIGASI ====================
    document.addEventListener('DOMContentLoaded', function() {
      // Load komponen statis
      document.getElementById('header-container').innerHTML = getHeader();
      document.getElementById('footer-container').innerHTML = getFooter();
      
      // Load halaman pertama
      loadPage('home'); 
      updatePageConfig();
    });

    function navigateTo(pageId) {
      // Update styling menu aktif
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
        if (link.dataset.page === pageId) link.classList.add('active');
      });
      
      // Load konten halaman
      loadPage(pageId);
      
      // Tutup menu mobile jika terbuka
      const mobileMenu = document.getElementById('mobile-menu');
      if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
        toggleMobileMenu();
      }
      
      // Scroll ke atas
      window.scrollTo({ top: 0, behavior: 'smooth' });
      return false;
    }

    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      if (menu) menu.classList.toggle('hidden');
    }

    function mobileNavigateTo(pageId) {
      navigateTo(pageId);
      return false;
    }

    function updatePageConfig() {
      const title = document.getElementById('hero-title');
      if(title) title.textContent = defaultConfig.hero_title;
      // Update elemen lain dinamis jika perlu
    }

    // ==================== PAGE ROUTER (PENGATUR HALAMAN) ====================
    async function loadPage(pageId) {
      const content = document.getElementById('page-content');
      
      // Reset konten
      content.innerHTML = ''; 

      // Routing
      if(pageId === 'home') {
          content.innerHTML = getHomePage();
      } 
      else if(pageId === 'about') {
          content.innerHTML = getAboutPage();
      } 
      else if(pageId === 'agenda') {
          content.innerHTML = getAgendaPage();
      } 
      else if(pageId === 'documentation') {
          content.innerHTML = getDocumentationPage();
          setTimeout(initDocumentationPage, 100);
      } 
      else if(pageId === 'transparency') {
          content.innerHTML = getTransparencyPage();
      } 
      else if(pageId === 'sharing') {
          content.innerHTML = getSharingPage(); // Memuat Form Upload Baru
          setTimeout(initSharingPage, 100);     // Menarik data dari Server Google
      } 
      else if(pageId === 'feedback') {
          content.innerHTML = getFeedbackPage();
      } 
      else if(pageId === 'contact') {
          content.innerHTML = getContactPage();
      } 
      else {
          content.innerHTML = '<div class="pt-32 text-center text-xl text-red-500">Halaman tidak ditemukan</div>';
      }
    }

    // ==================== LOGIKA BACKEND (UPLOAD & KOMENTAR) ====================
    
    // 1. Ambil Data dari Google Sheet
    async function initSharingPage() {
        const gallery = document.getElementById('file-gallery');
        const comments = document.getElementById('comments-list');
        
        if(!gallery) return;

        // Loading Spinner
        gallery.innerHTML = '<div class="col-span-3 text-center py-10"><div class="animate-spin inline-block w-8 h-8 border-4 border-blue-500 rounded-full border-t-transparent"></div><p class="mt-2 text-slate-500">Menghubungkan ke Server...</p></div>';

        try {
            const response = await fetch(GAS_URL);
            const result = await response.json();
            
            if(result.status === 'success') {
                renderFiles(result.data.filter(item => item.tipe === 'FILE'));
                renderComments(result.data.filter(item => item.tipe === 'KOMENTAR'));
            } else {
                gallery.innerHTML = '<p class="text-center text-red-500 col-span-3">Gagal memuat data.</p>';
            }
        } catch (error) {
            console.error(error);
            gallery.innerHTML = '<p class="text-center text-red-500 col-span-3">Gagal terhubung. Coba refresh halaman.</p>';
        }
    }

    // 2. Tampilkan File
    function renderFiles(files) {
        const gallery = document.getElementById('file-gallery');
        if(!gallery) return;

        if(files.length === 0) {
            gallery.innerHTML = '<div class="col-span-3 text-center py-10 text-slate-500">Belum ada file yang diupload.</div>';
            return;
        }

        const icons = {
            'application/pdf': '<span class="text-red-500 font-bold">PDF</span>',
            'application/vnd.openxmlformats-officedocument.wordprocessingml.document': '<span class="text-blue-500 font-bold">DOCX</span>',
            'image/jpeg': '<span class="text-purple-500 font-bold">IMG</span>',
            'image/png': '<span class="text-purple-500 font-bold">IMG</span>',
            'default': '<span class="text-slate-500 font-bold">FILE</span>'
        };

        let html = files.map(file => `
            <div class="bg-slate-50 rounded-2xl p-6 border-2 border-slate-200 hover:border-blue-300 transition-colors shadow-sm hover:shadow-md">
              <div class="flex items-start gap-4 mb-4">
                <div class="w-12 h-12 rounded-xl bg-white flex items-center justify-center shadow-md border text-xs">
                  ${icons[file.meta] || icons['default']}
                </div>
                <div class="flex-grow overflow-hidden">
                  <h4 class="font-bold text-slate-800 mb-1 truncate" title="${file.nama}">${file.nama}</h4> 
                  <div class="flex flex-col text-xs text-slate-500">
                    <span class="font-semibold text-blue-600">${file.sekolah}</span>
                    <span>${file.waktu}</span>
                  </div>
                </div>
              </div>
              <div class="flex items-center justify-between mt-2 pt-2 border-t border-slate-200">
                 <span class="text-xs bg-slate-100 px-2 py-1 rounded text-slate-600 truncate max-w-[100px]">${file.meta}</span>
                 <a href="${file.konten}" target="_blank" class="text-blue-600 hover:text-blue-800 text-sm font-bold flex items-center gap-1">
                    Download
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                 </a>
              </div>
            </div>
        `).join('');
        gallery.innerHTML = html;
    }

    // 3. Tampilkan Komentar
    function renderComments(comments) {
        const list = document.getElementById('comments-list');
        if(!list) return;

        if(comments.length === 0) {
            list.innerHTML = '<div class="text-center py-10 text-slate-500">Belum ada komentar.</div>';
            return;
        }

        let html = comments.map(c => `
          <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-200">
            <div class="flex items-center justify-between mb-2">
              <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center font-bold text-blue-600">${c.nama.charAt(0)}</div>
                <div>
                  <h4 class="font-bold text-slate-800 text-sm">${c.nama}</h4>
                  <p class="text-xs text-slate-500">${c.sekolah}</p>
                </div>
              </div>
              <span class="text-xs text-slate-400">${c.waktu}</span>
            </div>
            <p class="text-slate-700 text-sm leading-relaxed">${c.konten}</p>
          </div>
        `).join('');
        list.innerHTML = html;
    }

    // 4. Proses Upload
    async function handleFileUpload() {
        const name = document.getElementById('upload-name').value;
        const school = document.getElementById('upload-school').value;
        const pin = document.getElementById('upload-pin').value;
        const fileInput = document.getElementById('upload-file');
        const btn = document.getElementById('btn-upload');
        const statusMsg = document.getElementById('upload-status');

        if(!name || !school || !pin || fileInput.files.length === 0) {
            alert("Mohon lengkapi semua data!"); return;
        }
        if(pin !== TEACHER_PIN) {
            alert("PIN Guru Salah! Silakan hubungi admin."); return;
        }
        const file = fileInput.files[0];
        if(file.size > 5 * 1024 * 1024) { 
            alert("Ukuran file maksimal 5MB."); return;
        }

        btn.disabled = true;
        btn.innerHTML = 'Sedang Mengupload...';
        statusMsg.innerText = 'Mohon tunggu, sedang memproses file...';

        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = async function() {
            const base64Data = reader.result.split(',')[1];
            
            const payload = {
                action: 'UPLOAD',
                nama: name,
                sekolah: school,
                pin: pin,
                fileName: file.name,
                mimeType: file.type,
                fileData: base64Data,
                ukuran: (file.size/1024).toFixed(1) + ' KB'
            };

            try {
                const response = await fetch(GAS_URL, {
                    method: "POST",
                    body: JSON.stringify(payload)
                });
                
                const result = await response.json();
                
                if(result.status === 'success') {
                    alert("Berhasil Upload!");
                    document.getElementById('upload-name').value = '';
                    document.getElementById('upload-file').value = '';
                    document.getElementById('upload-pin').value = '';
                    initSharingPage(); // Refresh otomatis
                } else {
                    alert("Gagal: " + result.message);
                }
            } catch (err) {
                console.error(err);
                alert("Terjadi kesalahan koneksi.");
            } finally {
                btn.disabled = false;
                btn.innerHTML = 'Upload Sekarang';
                statusMsg.innerText = '';
            }
        };
    }

    // 5. Proses Komentar
    async function submitComment() {
        const name = document.getElementById('comment-name').value;
        const school = document.getElementById('comment-school').value;
        const text = document.getElementById('comment-text').value;
        const btn = document.querySelector('#comment-form button');

        if(!name || !school || !text) { alert("Lengkapi data komentar!"); return; }

        btn.disabled = true;
        btn.innerText = "Mengirim...";

        const payload = {
            action: 'KOMENTAR',
            nama: name,
            sekolah: school,
            isi: text
        };

        try {
            await fetch(GAS_URL, {
                method: "POST",
                body: JSON.stringify(payload)
            });
            document.getElementById('comment-text').value = '';
            toggleCommentForm();
            initSharingPage(); 
        } catch(err) {
            alert("Gagal mengirim komentar.");
        } finally {
            btn.disabled = false;
            btn.innerText = "Kirim";
        }
    }

    function toggleCommentForm() {
      const form = document.getElementById('comment-form');
      if (form) form.classList.toggle('hidden');
    }

    function toggleAccordion(id) {
      const content = document.getElementById(id + '-content');
      const icon = document.getElementById(id + '-icon');
      if (content.classList.contains('hidden')) {
        content.classList.remove('hidden');
        icon.style.transform = 'rotate(180deg)';
      } else {
        content.classList.add('hidden');
        icon.style.transform = 'rotate(0deg)';
      }
    }

    function openMaps() {
      const mapsUrl = "https://www.google.com/maps/search/?api=1&query=Sekretariat+KKG+Gugus+III";
      window.open(mapsUrl, '_blank');
    }

    function initDocumentationPage() {
       const galleryData = [
           { category: 'workshop', title: 'Workshop 2024', src: 'https://images.unsplash.com/photo-1542744173-8e7e53415bb0', alt: 'Workshop' },
           { category: 'meeting', title: 'Rapat Koordinasi', src: 'https://images.unsplash.com/photo-1556761175-b413da4baf72', alt: 'Rapat' },
           { category: 'celebration', title: 'Perayaan HGN', src: 'https://images.unsplash.com/photo-1540575467063-178a50c2df87', alt: 'HGN' },
           { category: 'training', title: 'Pelatihan', src: 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3', alt: 'Pelatihan' }
       ];
       
       const container = document.getElementById('photo-gallery');
       if(container) {
           let html = '';
           galleryData.forEach(item => {
               html += `
               <div class="photo-grid-item aspect-square rounded-3xl overflow-hidden shadow-xl relative group cursor-pointer hover:shadow-2xl transition-all duration-300" 
                    data-category="${item.category}" onclick="alert('${item.title}')">
                    <img src="${item.src}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <span class="text-white font-bold">${item.title}</span>
                    </div>
               </div>`;
           });
           container.innerHTML = html;
       }
    }
    
    // Fungsi filter gallery sederhana
    function filterGallery(cat) {
        const items = document.querySelectorAll('.photo-grid-item');
        items.forEach(item => {
            if(cat === 'all' || item.dataset.category === cat) item.style.display = 'block';
            else item.style.display = 'none';
        });
        
        // Update tombol aktif
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('bg-blue-600', 'text-white');
            btn.classList.add('bg-slate-100', 'text-slate-600');
            if(btn.textContent.toLowerCase().includes(cat) || (cat === 'all' && btn.textContent === 'Semua')) {
                btn.classList.remove('bg-slate-100', 'text-slate-600');
                btn.classList.add('bg-blue-600', 'text-white');
            }
        });
    }

    // ==================== TEMPLATES (KONTEN HALAMAN) ====================
    
    function getHeader() {
      return `
        <nav class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-lg shadow-md z-50">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16 lg:h-20">
              <div class="flex items-center gap-3 cursor-pointer" onclick="navigateTo('home')">
                <div class="w-11 h-11 lg:w-14 lg:h-14 rounded-2xl gradient-hero flex items-center justify-center shadow-lg">
                  <svg class="w-6 h-6 lg:w-8 lg:h-8 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
                </div>
                <div class="hidden sm:block">
                  <span class="font-bold text-xl text-blue-700">KKG Gugus III</span>
                  <p class="text-xs text-slate-500 font-medium">Kelompok Kerja Guru</p>
                </div>
              </div>
              <div class="hidden lg:flex items-center gap-4 xl:gap-8">
                <a href="#" class="nav-link text-slate-700 hover:text-blue-600 font-semibold text-sm xl:text-base px-2 py-1 active" onclick="return navigateTo('home')" data-page="home">Beranda</a>
                <a href="#" class="nav-link text-slate-700 hover:text-blue-600 font-semibold text-sm xl:text-base px-2 py-1" onclick="return navigateTo('about')" data-page="about">Tentang</a>
                <a href="#" class="nav-link text-slate-700 hover:text-blue-600 font-semibold text-sm xl:text-base px-2 py-1" onclick="return navigateTo('agenda')" data-page="agenda">Agenda</a>
                <a href="#" class="nav-link text-slate-700 hover:text-blue-600 font-semibold text-sm xl:text-base px-2 py-1" onclick="return navigateTo('documentation')" data-page="documentation">Dokumentasi</a>
                <a href="#" class="nav-link text-slate-700 hover:text-blue-600 font-semibold text-sm xl:text-base px-2 py-1" onclick="return navigateTo('transparency')" data-page="transparency">Transparansi</a>
                <a href="#" class="nav-link text-slate-700 hover:text-blue-600 font-semibold text-sm xl:text-base px-2 py-1" onclick="return navigateTo('sharing')" data-page="sharing">Berbagi File</a>
                <a href="#" class="nav-link text-slate-700 hover:text-blue-600 font-semibold text-sm xl:text-base px-2 py-1" onclick="return navigateTo('feedback')" data-page="feedback">Masukan</a>
                <a href="#" class="nav-link text-slate-700 hover:text-blue-600 font-semibold text-sm xl:text-base px-2 py-1" onclick="return navigateTo('contact')" data-page="contact">Kontak</a>
              </div>
              <button class="lg:hidden p-2 rounded-xl hover:bg-slate-100" onclick="toggleMobileMenu()">
                <svg class="w-6 h-6 text-slate-700" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
              </button>
            </div>
          </div>
          <div id="mobile-menu" class="lg:hidden hidden bg-white border-t shadow-lg">
            <div class="px-4 py-3 space-y-2">
              <a href="#" class="block px-4 py-3 rounded-xl text-slate-700 hover:bg-blue-50" onclick="return mobileNavigateTo('home')">Beranda</a>
              <a href="#" class="block px-4 py-3 rounded-xl text-slate-700 hover:bg-blue-50" onclick="return mobileNavigateTo('about')">Tentang</a>
              <a href="#" class="block px-4 py-3 rounded-xl text-slate-700 hover:bg-blue-50" onclick="return mobileNavigateTo('agenda')">Agenda</a>
              <a href="#" class="block px-4 py-3 rounded-xl text-slate-700 hover:bg-blue-50" onclick="return mobileNavigateTo('documentation')">Dokumentasi</a>
              <a href="#" class="block px-4 py-3 rounded-xl text-slate-700 hover:bg-blue-50" onclick="return mobileNavigateTo('transparency')">Transparansi</a>
              <a href="#" class="block px-4 py-3 rounded-xl text-slate-700 hover:bg-blue-50" onclick="return mobileNavigateTo('sharing')">Berbagi File</a>
              <a href="#" class="block px-4 py-3 rounded-xl text-slate-700 hover:bg-blue-50" onclick="return mobileNavigateTo('feedback')">Masukan</a>
              <a href="#" class="block px-4 py-3 rounded-xl text-slate-700 hover:bg-blue-50" onclick="return mobileNavigateTo('contact')">Kontak</a>
            </div>
          </div>
        </nav>
      `;
    }

    function getFooter() {
      return `
        <footer class="bg-slate-800 text-white">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-10">
              <div>
                <div class="flex items-center gap-3 mb-6">
                  <div class="w-12 h-12 rounded-2xl bg-blue-600 flex items-center justify-center shadow-lg">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
                  </div>
                  <span class="font-bold text-xl">KKG Gugus III</span>
                </div>
                <p class="text-slate-400 leading-relaxed">Kelompok Kerja Guru Sekolah Dasar yang berkomitmen untuk meningkatkan kualitas pendidikan.</p>
              </div>
              <div>
                <h4 class="font-bold mb-6 text-lg">Menu Cepat</h4>
                <ul class="space-y-3 text-slate-400">
                  <li><a href="#" onclick="return navigateTo('home')" class="hover:text-white transition-colors">Beranda</a></li>
                  <li><a href="#" onclick="return navigateTo('about')" class="hover:text-white transition-colors">Tentang Kami</a></li>
                  <li><a href="#" onclick="return navigateTo('agenda')" class="hover:text-white transition-colors">Agenda</a></li>
                  <li><a href="#" onclick="return navigateTo('documentation')" class="hover:text-white transition-colors">Dokumentasi</a></li>
                </ul>
              </div>
              <div>
                <h4 class="font-bold mb-6 text-lg">Informasi</h4>
                <ul class="space-y-3 text-slate-400">
                  <li><a href="#" onclick="return navigateTo('transparency')" class="hover:text-white transition-colors">Transparansi</a></li>
                  <li><a href="#" onclick="return navigateTo('sharing')" class="hover:text-white transition-colors">Berbagi File</a></li>
                  <li><a href="#" onclick="return navigateTo('feedback')" class="hover:text-white transition-colors">Masukan</a></li>
                  <li><a href="#" onclick="return navigateTo('contact')" class="hover:text-white transition-colors">Kontak</a></li>
                </ul>
              </div>
              <div>
                <h4 class="font-bold mb-6 text-lg">Kontak</h4>
                <ul class="space-y-3 text-slate-400">
                  <li class="flex items-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg> kkg.gugus3@email.com</li>
                  <li class="flex items-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg> +62 812-3456-7890</li>
                </ul>
              </div>
            </div>
            <div class="border-t border-slate-700 mt-12 pt-10 text-center text-slate-400">
              <p class="font-medium">© 2025 KKG Gugus III. Seluruh hak cipta dilindungi.</p>
            </div>
          </div>
        </footer>
      `;
    }

    // --- HOME PAGE CONTENT ---
    function getHomePage() {
      return `
        <div id="page-home" class="page active">
          <section class="hero-container wave-pattern pt-24 lg:pt-32 pb-20 lg:pb-32 relative overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative text-center">
                <div class="inline-flex items-center gap-2 px-5 py-2.5 hero-badge rounded-full mb-8 shadow-lg">
                  <span class="w-2.5 h-2.5 bg-yellow-400 rounded-full animate-pulse"></span>
                  <span class="text-white/95 text-sm font-semibold tracking-wide">Kelompok Kerja Guru SD</span>
                </div>
                <h1 class="text-4xl sm:text-5xl lg:text-7xl font-extrabold mb-6 text-white">KKG Gugus III</h1>
                <h2 class="text-xl sm:text-2xl lg:text-4xl font-bold mb-8 text-yellow-200">Bersama Membangun Pendidikan Berkualitas</h2>
                <p class="text-lg lg:text-xl mb-12 max-w-3xl mx-auto leading-relaxed font-light text-blue-50">Selamat datang di website resmi KKG Gugus III. Wadah kolaborasi dan pengembangan profesional guru-guru Sekolah Dasar untuk menciptakan pembelajaran yang inovatif dan bermakna.</p>
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                  <button onclick="navigateTo('agenda')" class="btn-primary px-8 py-4 bg-yellow-400 hover:bg-yellow-300 text-blue-900 font-bold rounded-2xl shadow-2xl">Lihat Agenda</button>
                  <button onclick="navigateTo('about')" class="btn-primary px-8 py-4 bg-white/25 hover:bg-white/35 backdrop-blur-sm text-white font-bold rounded-2xl border-2 border-white/40">Tentang Kami</button>
                </div>
            </div>
          </section>
          
          <section class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 text-center">
               <h2 class="text-4xl font-bold text-slate-800 mb-12">KKG Gugus III dalam Angka</h2>
               <div class="grid grid-cols-2 lg:grid-cols-4 gap-8">
                  <div class="stat-card p-8 rounded-3xl bg-blue-50 text-blue-700 shadow-md">
                     <div class="text-5xl font-extrabold mb-2">8</div><div class="font-semibold">Sekolah Anggota</div>
                  </div>
                  <div class="stat-card p-8 rounded-3xl bg-yellow-50 text-yellow-700 shadow-md">
                     <div class="text-5xl font-extrabold mb-2">100+</div><div class="font-semibold">Guru Aktif</div>
                  </div>
                  <div class="stat-card p-8 rounded-3xl bg-green-50 text-green-700 shadow-md">
                     <div class="text-5xl font-extrabold mb-2">12</div><div class="font-semibold">Kegiatan/Tahun</div>
                  </div>
                  <div class="stat-card p-8 rounded-3xl bg-purple-50 text-purple-700 shadow-md">
                     <div class="text-5xl font-extrabold mb-2">1</div><div class="font-semibold">Visi Bersama</div>
                  </div>
               </div>
            </div>
          </section>
        </div>
      `;
    }

    function getAboutPage() {
      return `
        <div id="page-about" class="page">
          <div class="pt-24 lg:pt-32 pb-16">
            <div class="bg-gradient-to-r from-blue-600 via-blue-500 to-blue-600 py-20 text-center text-white">
               <h1 class="text-4xl lg:text-6xl font-extrabold mb-4">Tentang Kami</h1>
               <p class="text-xl text-blue-100">Mengenal lebih dekat KKG Gugus III</p>
            </div>
            <div class="max-w-7xl mx-auto px-4 py-16">
               <div class="bg-white rounded-3xl shadow-xl p-10 mb-16">
                  <h2 class="text-3xl font-bold text-slate-800 mb-6">Profil</h2>
                  <p class="text-lg text-slate-600 leading-relaxed">Kelompok Kerja Guru (KKG) Gugus III adalah wadah kegiatan profesional guru Sekolah Dasar yang terdiri dari sejumlah guru dari beberapa sekolah di wilayah tertentu. KKG merupakan salah satu bentuk organisasi profesi yang bertujuan untuk meningkatkan mutu pendidikan di tingkat Sekolah Dasar.</p>
               </div>
               <div class="grid lg:grid-cols-2 gap-8 mb-16">
                  <div class="bg-blue-50 p-10 rounded-3xl">
                     <h3 class="text-2xl font-bold mb-4">Visi</h3>
                     <p>Menjadi wadah pengembangan profesional guru yang unggul, inovatif, dan berkolaborasi untuk menciptakan pendidikan Sekolah Dasar yang berkualitas dan bermakna bagi peserta didik.</p>
                  </div>
                  <div class="bg-yellow-50 p-10 rounded-3xl">
                     <h3 class="text-2xl font-bold mb-4">Misi</h3>
                     <ul class="list-disc pl-5"><li>Meningkatkan kompetensi pedagogik.</li><li>Berbagi praktik terbaik.</li><li>Mengembangkan inovasi.</li></ul>
                  </div>
               </div>
               <h2 class="text-3xl font-bold text-slate-800 mb-10 text-center">Struktur Organisasi</h2>
               <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                  <div class="p-6 bg-slate-50 rounded-2xl"><h4 class="font-bold">Pembina</h4><p>Dian Permanawati</p></div>
                  <div class="p-6 bg-blue-50 rounded-2xl"><h4 class="font-bold">Ketua</h4><p>Mohamad Teguh H.</p></div>
                  <div class="p-6 bg-yellow-50 rounded-2xl"><h4 class="font-bold">Sekretaris</h4><p>Ade Arivin</p></div>
                  <div class="p-6 bg-green-50 rounded-2xl"><h4 class="font-bold">Bendahara</h4><p>Didin Jaenudin</p></div>
               </div>
            </div>
          </div>
        </div>
      `;
    }

    function getAgendaPage() {
      return `
        <div id="page-agenda" class="page">
          <div class="pt-24 lg:pt-32 pb-16">
             <div class="bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-500 py-20 text-center text-white">
                <h1 class="text-4xl lg:text-6xl font-extrabold mb-4">Agenda Kegiatan</h1>
                <p class="text-xl text-yellow-100">Jadwal kegiatan KKG Gugus III</p>
             </div>
             <div class="max-w-7xl mx-auto px-4 py-16">
                <div class="space-y-6 mb-16">
                   <div class="bg-white rounded-3xl shadow-xl p-8 border-l-4 border-green-500">
                      <div class="flex flex-col md:flex-row gap-6 items-center">
                         <div class="text-center p-4 bg-green-100 rounded-2xl min-w-[100px]">
                            <div class="text-3xl font-bold text-green-700">31</div><div class="text-sm text-green-600 font-bold">Jan 2026</div>
                         </div>
                         <div>
                            <span class="px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-bold">Rapat Rutin</span>
                            <h3 class="text-xl font-bold mt-2">Sosialisasi Aplikasi KKG 3 & Refleksi Assesmen</h3>
                            <p class="text-slate-600 text-sm mt-1">Lokasi: SDN Jatihurip | Pukul: 10:00 WIB</p>
                         </div>
                      </div>
                   </div>
                   <div class="bg-white rounded-3xl shadow-xl p-8 border-l-4 border-blue-500">
                      <div class="flex flex-col md:flex-row gap-6 items-center">
                         <div class="text-center p-4 bg-blue-100 rounded-2xl min-w-[100px]">
                            <div class="text-3xl font-bold text-blue-700">12</div><div class="text-sm text-blue-600 font-bold">Feb 2026</div>
                         </div>
                         <div>
                            <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold">Workshop</span>
                            <h3 class="text-xl font-bold mt-2">Pematerian Pengawas & Sosialisasi Literasi</h3>
                            <p class="text-slate-600 text-sm mt-1">Lokasi: SDN Jatihurip | Pukul: 08:00 WIB</p>
                         </div>
                      </div>
                   </div>
                </div>
                
                <h2 class="text-3xl font-bold text-slate-800 mb-8">Program Unggulan: Literasi, Numerasi & OSN</h2>
                <div class="space-y-4">
                   <div class="bg-white rounded-2xl shadow p-4 cursor-pointer" onclick="toggleAccordion('acc1')">
                      <h3 class="font-bold flex justify-between">Latar Belakang <span>▼</span></h3>
                      <div id="acc1-content" class="hidden mt-4 text-slate-600 pl-4 border-l-2 border-slate-200">Kemampuan literasi & numerasi perlu diperkuat. Pembinaan OSN belum sistematis.</div>
                   </div>
                   <div class="bg-white rounded-2xl shadow p-4 cursor-pointer" onclick="toggleAccordion('acc2')">
                      <h3 class="font-bold flex justify-between">Tujuan Program <span>▼</span></h3>
                      <div id="acc2-content" class="hidden mt-4 text-slate-600 pl-4 border-l-2 border-slate-200">Meningkatkan calistung kelas rendah, kompetensi MIPA kelas tinggi, dan persiapan OSN.</div>
                   </div>
                   <div class="bg-white rounded-2xl shadow p-4 cursor-pointer" onclick="toggleAccordion('acc3')">
                      <h3 class="font-bold flex justify-between">Ruang Lingkup <span>▼</span></h3>
                      <div id="acc3-content" class="hidden mt-4 text-slate-600 pl-4 border-l-2 border-slate-200">Kelas 1-3: Penguatan Calistung. Kelas 4-6: Pembinaan OSN Matematika & IPA.</div>
                   </div>
                </div>
             </div>
          </div>
        </div>
      `;
    }

    function getTransparencyPage() {
      return `
        <div id="page-transparency" class="page">
          <div class="pt-24 lg:pt-32 pb-16">
             <div class="bg-gradient-to-r from-purple-600 via-purple-500 to-purple-600 py-20 text-center text-white">
                <h1 class="text-4xl lg:text-6xl font-extrabold mb-4">Transparansi Keuangan</h1>
             </div>
             <div class="max-w-7xl mx-auto px-4 py-16">
                <div class="grid md:grid-cols-3 gap-8 mb-12">
                   <div class="bg-white p-8 rounded-3xl shadow-lg border-l-4 border-green-500"><p class="text-slate-500 font-bold">Pemasukan</p><p class="text-3xl font-bold text-green-600">Rp 415.000</p></div>
                   <div class="bg-white p-8 rounded-3xl shadow-lg border-l-4 border-red-500"><p class="text-slate-500 font-bold">Pengeluaran</p><p class="text-3xl font-bold text-red-600">Rp 329.000</p></div>
                   <div class="bg-white p-8 rounded-3xl shadow-lg border-l-4 border-blue-500"><p class="text-slate-500 font-bold">Saldo Akhir</p><p class="text-3xl font-bold text-blue-600">Rp 86.000</p></div>
                </div>
                <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
                   <div class="p-6 bg-slate-100 font-bold">Rincian Iuran (Feb 2026)</div>
                   <div class="p-6 grid grid-cols-2 md:grid-cols-4 gap-4">
                      <div class="bg-slate-50 p-4 rounded text-center"><p class="text-xs">SDN Sindang I</p><p class="font-bold text-purple-700">Rp 50.000</p></div>
                      <div class="bg-slate-50 p-4 rounded text-center"><p class="text-xs">SDN Sindang II</p><p class="font-bold text-purple-700">Rp 45.000</p></div>
                      <div class="bg-slate-50 p-4 rounded text-center"><p class="text-xs">SDN Jatihurip</p><p class="font-bold text-purple-700">Rp 70.000</p></div>
                      <div class="bg-slate-50 p-4 rounded text-center"><p class="text-xs">SDN Sindang IV</p><p class="font-bold text-purple-700">Rp 110.000</p></div>
                   </div>
                </div>
             </div>
          </div>
        </div>
      `;
    }

    // --- SHARING PAGE DENGAN LOGIKA UPLOAD ---
    function getSharingPage() {
      return `
        <div id="page-sharing" class="page">
          <div class="pt-24 lg:pt-32 pb-16">
            <div class="bg-gradient-to-r from-indigo-600 via-indigo-500 to-indigo-600 py-20 text-center text-white">
              <h1 class="text-4xl lg:text-6xl font-extrabold mb-5">Berbagi File & Materi</h1>
              <p class="text-xl text-indigo-100">Upload materi ajar. PIN: <strong>${TEACHER_PIN}</strong></p>
            </div>
            
            <div class="max-w-7xl mx-auto px-4 py-16">
              <div class="bg-white rounded-3xl shadow-xl p-8 mb-16 border-2 border-indigo-50">
                <h2 class="text-2xl font-bold text-slate-800 mb-6 text-center">Upload File Baru</h2>
                <div class="grid md:grid-cols-2 gap-8">
                   <div class="bg-indigo-50 p-6 rounded-2xl">
                      <h3 class="font-bold text-indigo-800 mb-2">Aturan Upload</h3>
                      <ul class="text-sm text-slate-700 space-y-2 list-disc ml-4">
                        <li>File maksimal <strong>5 MB</strong>.</li>
                        <li>Format: PDF, Word, Excel, Gambar.</li>
                        <li>Wajib PIN Guru.</li>
                      </ul>
                   </div>
                   <div class="space-y-4">
                      <div class="grid grid-cols-2 gap-4">
                        <input type="text" id="upload-name" placeholder="Nama Guru" class="w-full px-4 py-3 rounded-xl border focus:border-indigo-500 outline-none">
                        <input type="text" id="upload-school" placeholder="Asal Sekolah" class="w-full px-4 py-3 rounded-xl border focus:border-indigo-500 outline-none">
                      </div>
                      <input type="password" id="upload-pin" placeholder="Masukkan PIN Guru" class="w-full px-4 py-3 rounded-xl border border-red-200 focus:border-red-500 outline-none">
                      <input type="file" id="upload-file" class="w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
                      <button id="btn-upload" onclick="handleFileUpload()" class="w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition shadow-lg">Upload Sekarang</button>
                      <p id="upload-status" class="text-center text-xs text-slate-500 mt-2"></p>
                   </div>
                </div>
              </div>

              <h2 class="text-2xl font-bold text-slate-800 mb-6">Materi Terbaru</h2>
              <div id="file-gallery" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16">
                 </div>

              <div class="border-t pt-10">
                 <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-slate-800">Diskusi</h2>
                    <button onclick="toggleCommentForm()" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-bold hover:bg-blue-200">Tulis Komentar</button>
                 </div>
                 
                 <div id="comment-form" class="hidden bg-slate-50 p-6 rounded-2xl mb-8 border">
                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                       <input type="text" id="comment-name" placeholder="Nama Lengkap" class="px-4 py-2 rounded-lg border w-full">
                       <input type="text" id="comment-school" placeholder="Sekolah" class="px-4 py-2 rounded-lg border w-full">
                    </div>
                    <textarea id="comment-text" rows="3" placeholder="Tulis pesan..." class="w-full px-4 py-2 rounded-lg border mb-4"></textarea>
                    <div class="flex gap-2">
                       <button onclick="submitComment()" class="px-6 py-2 bg-blue-600 text-white rounded-lg font-bold">Kirim</button>
                       <button onclick="toggleCommentForm()" class="px-6 py-2 bg-slate-200 text-slate-600 rounded-lg font-bold">Batal</button>
                    </div>
                 </div>

                 <div id="comments-list" class="space-y-4">
                    </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function getFeedbackPage() {
      return `
        <div id="page-feedback" class="page">
          <div class="pt-24 lg:pt-32 pb-16">
             <div class="bg-gradient-to-r from-pink-500 via-pink-400 to-pink-500 py-20 text-center text-white">
                <h1 class="text-4xl lg:text-6xl font-extrabold mb-4">Masukan & Saran</h1>
             </div>
             <div class="max-w-5xl mx-auto px-4 py-16 text-center">
                <div class="bg-white rounded-3xl shadow-2xl p-10">
                   <h2 class="text-2xl font-bold mb-6">Formulir Masukan</h2>
                   <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdSSd48bMfrtw-BYkS8Nn6H5C2ddJ4_XhSklxhkfqEchVqitg/viewform?embedded=true" width="100%" height="800" frameborder="0" marginheight="0" marginwidth="0">Memuat…</iframe>
                </div>
             </div>
          </div>
        </div>
      `;
    }

    function getContactPage() {
      return `
        <div id="page-contact" class="page">
          <div class="pt-24 lg:pt-32 pb-16">
             <div class="bg-gradient-to-r from-teal-600 via-teal-500 to-teal-600 py-20 text-center text-white">
                <h1 class="text-4xl lg:text-6xl font-extrabold mb-4">Hubungi Kami</h1>
             </div>
             <div class="max-w-6xl mx-auto px-4 py-16">
                <div class="grid md:grid-cols-3 gap-8 text-center">
                   <div class="bg-blue-50 p-8 rounded-3xl"><h3 class="font-bold text-xl mb-2">Email</h3><p class="text-blue-600">kkg.gugus3@email.com</p></div>
                   <div class="bg-green-50 p-8 rounded-3xl"><h3 class="font-bold text-xl mb-2">WhatsApp</h3><p class="text-green-600">+62 812-3456-7890</p></div>
                   <div class="bg-purple-50 p-8 rounded-3xl"><h3 class="font-bold text-xl mb-2">Alamat</h3><p>Jl. Pendidikan No. 123</p></div>
                </div>
             </div>
          </div>
        </div>
      `;
    }
</script>
</body>
</html>
